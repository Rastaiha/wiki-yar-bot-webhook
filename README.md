# wiki-yar-bot-webhook
@wiki_rastaa_bot

پیامی که بات تلگرام می‌گیره از نظر تلگرام، سه حالت مهم ممکنه داشته باشه. 

یکی اینکه کامند باشه، مثلاً بزنی /start و ... 

یکی اینکه متنی باشه؛ یعنی یه متنی که کامند نیست بفرستی. 

یکی اینکه callback query باشه. این سومی وقتی میاد که کیبورد گذاشته باشی تو یه پیامی و کاربر روی یکی از دکمه‌ها زده باشه. 

حالا هر کدوم از این‌ها توی polling و webhook روش‌های مختلفی هندل شدن.

در webhook...

در این روش، نوع دوم و سوم رو خیلی شبیه حالت polling هندل کردیم. نوع اول کمتر سرراست بود برای همین تعدادی ایف زدیم تا هندل شه. (خط ۸۱ تا ۱۱۳ views.py)

برای توضیح خلاصه‌ی webhook، همه‌ی درخواست‌های تلگرام می‌ره به TutorialBotView تابع post. این خودش می‌ره بقیه‌ی تابع‌ها رو کال می‌کنه. از خط ۴۱۶ به بعد، ۴ تا تابع استفاده شده برای کار کردن با api تلگرام (اینجا خودم مستقیم این‌کار رو می‌کنم نه با پکیج خاصی) اطلاعات خیلی کامل apiش اینجاست (https://core.telegram.org/bots/api). ابتدای فایل هم برای کار با ویکی و گوگل‌داک تعداد زیادی تابع زده شده.